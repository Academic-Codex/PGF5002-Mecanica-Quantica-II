name: Build & Publish (gh-pages)

on:
  push:
    branches: [ main ]
  workflow_dispatch:
  repository_dispatch:
    types: [ site-template-updated ] 

jobs:
  call-central:
    uses: Academic-Codex/academic-codex.github.io/.github/workflows/build-site.yml@main
    with:
      site_title: "${{ github.repository }}"
      execute: "false"
      template_repo: "Academic-Codex/academic-codex.github.io"
      template_path: ".github/template"
      # template_ref: v1
    secrets: inherit